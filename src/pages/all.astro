---
import Item from "@/components/item.astro"
import Layout from "@/layout/layout.astro"
import { getAllContentIncludingDrafts } from "@/utils/content-filters.utils"

const allContent = await getAllContentIncludingDrafts()
const draftCount = allContent.filter((item) => item.isDraft).length
---

<Layout title="All Content (Including Drafts)" description="Browse all content including drafts" crumbs={null} pageType="default" noIndex={true}>
  <h1 class="mb-2">All Content</h1>
  <p class="text-muted mb-8">
    {allContent.length} items ({draftCount} drafts) sorted by date.
  </p>

  <ul class="flex flex-col">
    {allContent.map((item) => <Item {item} showType={true} showCategory={true} />)}
  </ul>
</Layout>
