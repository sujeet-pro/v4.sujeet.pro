---
import { Icon } from "astro-icon/components"

type Props = {
  title: string
  open?: boolean
}
const { title, open = true } = Astro.props
---

<details open={open} class="accordion">
  <summary class="accordion-summary">
    <slot name="title"><span class="accordion-title">{title}</span></slot>
    <Icon name="carbon:chevron-up" class="accordion-icon" />
  </summary>
  <div class="accordion-content">
    <slot />
  </div>
</details>

<style is:global>
  @reference "tailwindcss";

  .accordion {
    @apply p-4;
    background: var(--color-bg-alt);
  }

  .accordion-summary {
    @apply flex cursor-pointer list-none items-center justify-between;
  }

  .accordion-summary::-webkit-details-marker {
    display: none;
  }

  .accordion-title {
    @apply font-semibold;
  }

  .accordion-icon {
    @apply h-5 w-5;
    transform: rotate(180deg);
    transition: transform var(--transition-normal);
  }

  .accordion[open] .accordion-icon {
    transform: rotate(0deg);
  }

  .accordion-content {
    @apply py-4;
  }

  .accordion:not([open]) .accordion-content {
    @apply hidden;
  }
</style>
