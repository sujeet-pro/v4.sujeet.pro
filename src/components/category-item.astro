---
import type { Category } from "@/utils/content.type"
import Link from "./link.astro"

type Props = {
  category: Category
}

const { category } = Astro.props
---

<li class="content-item">
  <div>
    <h2 class="content-item-title">
      <Link href={category.href} class="nav-link">
        {category.name}
      </Link>
    </h2>
    <p class="text-muted text-sm">{category.description}</p>
    <span class="text-muted text-sm">
      {category.totalDeepDives}
      {category.totalDeepDives === 1 ? "note" : "notes"}
    </span>
  </div>

  <div class="mt-4 flex flex-wrap gap-2">
    {
      category.subcategories.map((sub) => (
        <Link href={sub.href} class="tag">
          {sub.name} ({sub.deepDives.length})
        </Link>
      ))
    }
  </div>
</li>
