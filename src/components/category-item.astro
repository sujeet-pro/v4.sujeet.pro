---
import type { CategoryWithItems } from "@/utils/content.type"
import Link from "./link.astro"

type HeadingLevel = "h2" | "h3" | "h4" | "h5" | "h6"

type Props = {
  category: CategoryWithItems
  /** Heading level for the category title. Defaults to h3 for proper semantic hierarchy. */
  headingLevel?: HeadingLevel
}

const { category, headingLevel = "h3" } = Astro.props

const HeadingTag = headingLevel
---

<li class="category-item">
  <div>
    <HeadingTag class="category-item-title">
      <Link href={category.href} class="nav-link">
        {category.name}
      </Link>
    </HeadingTag>
    <p class="category-item-description">{category.description}</p>
    <span class="category-item-count">
      {category.items.length} {category.items.length === 1 ? "article" : "articles"}
    </span>
  </div>
</li>
