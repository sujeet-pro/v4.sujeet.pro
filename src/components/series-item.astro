---
import type { Series } from "@/utils/content.type"
import Link from "./link.astro"

type Props = {
  series: Series
  textHeading?: string
}

const { series, textHeading } = Astro.props as Props
const items = series.items || []
---

<li class="content-item cursor-pointer">
  {textHeading && <p class="text-muted mb-1 text-sm">{textHeading}</p>}

  <h2 class="content-item-title">
    <Link href={series.href} class="nav-link">
      {series.name}
    </Link>
  </h2>

  <div class="text-muted mb-2 text-sm">
    <span>{items.length} {items.length === 1 ? "post" : "posts"}</span>
    {series.featured && <span class="badge-accent ml-2">Featured</span>}
  </div>

  {
    items.length > 0 && (
      <ul class="mt-2 flex flex-col gap-2 pl-4">
        {items.map((item) => (
          <li class="list-disc">
            <Link href={item.href}>{item.title}</Link>
          </li>
        ))}
      </ul>
    )
  }
</li>
