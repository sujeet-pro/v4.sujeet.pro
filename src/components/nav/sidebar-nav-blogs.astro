---
/**
 * Sidebar Nav - Blogs
 * For blog pages: chronological flat list, current highlighted
 */
import Link from "@/components/ui/link.astro"
import { getAllBlogCards } from "@/utils/content"

interface Props {
  currentBlogId?: string
}

const { currentBlogId } = Astro.props
const blogs = await getAllBlogCards()
---

<nav aria-label="Blog navigation">
  <h2 class="sidebar-nav-title">Blog Posts</h2>
  {
    blogs.length > 0 ? (
      <ul class="sidebar-nav-list">
        {blogs.map((blog) => (
          <li>
            <Link href={blog.href} class:list={["sidebar-nav-item", { "is-active": currentBlogId === blog.id }]}>
              {blog.title}
            </Link>
          </li>
        ))}
      </ul>
    ) : (
      <p class="sidebar-nav-empty">No blog posts yet.</p>
    )
  }
</nav>
