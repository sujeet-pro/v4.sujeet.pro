---
import type { PageContentItem } from "@/utils/content.type";
import FormattedDate from "./formatted-date.astro";
import Link from "./link.astro";
import ReadingTime from "./reading-time.astro";
import Frontmatter from "./frontmatter.astro";

type Props = {
  item: PageContentItem;
  textHeading?: string;
};
const { item, textHeading } = Astro.props as Props;
const { minutesRead, publishedOn, lastUpdatedOn, isDraft } = item;
---

<li class="group sp-border-muted relative cursor-pointer border-b py-6 last:border-b-0">
  <!-- Content wrapper with relative positioning -->
  <div class="relative z-10">
    <!-- Text heading (if provided) -->
    {textHeading && <p class="text-muted-foreground mb-1 text-sm font-light">{textHeading}</p>}

    <!-- Title with link -->
    <h2 class="mb-2 text-xl font-light">
      <Link href={item.href} class="item-link no-underline hover:underline">
        {item.title}
      </Link>
    </h2>

    <!-- Description -->
    <p class="mb-3 line-clamp-2">
      {item.description}
    </p>

    <!-- Meta information -->
    <Frontmatter {minutesRead} {publishedOn} {lastUpdatedOn} {isDraft} />
  </div>
</li>

<style>
  .item-link::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
</style>
